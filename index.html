<!DOCTYPE html><html><head><title>几何画板</title><style>body{margin:0;overflow:hidden;font-family:Arial}#c{display:block}#tools{position:fixed;top:10px;left:10px;background:rgba(255,255,255,0.7);padding:5px;border-radius:5px}button{padding:5px 10px;margin:0 2px}</style></head><body><canvas id="c"></canvas><div id="tools"><button onclick="clearCanvas()">清除</button><button onclick="changeColor('#f00')">红</button><button onclick="changeColor('#0f0')">绿</button><button onclick="changeColor('#00f')">蓝</button><button onclick="changeColor('#000')">黑</button></div><script>const c=document.getElementById("c"),x=c.getContext("2d"),w=c.width=innerWidth,h=c.height=innerHeight;let p=[],d=!1,g=null,clr='#000';function draw(){x.clearRect(0,0,w,h);x.strokeStyle=clr;p.forEach(t=>{x.beginPath();t.forEach((e,i)=>i?x.lineTo(e[0],e[1]):x.moveTo(e[0],e[1]));x.stroke()});g&&d&&(x.beginPath(),x.moveTo(g[0],g[1]),x.lineTo(mx,my),x.stroke())}c.onmousedown=e=>{d=!0;p.push([]);g=null};let mx=0,my=0;c.onmousemove=e=>{mx=e.clientX,my=e.clientY;if(!d)return;p[p.length-1].push([mx,my]);draw()};c.onmouseup=()=>{d=!1;g=p[p.length-1][0]};function clearCanvas(){p=[];g=null;draw()}function changeColor(c){clr=c;draw()};window.onresize=()=>{c.width=innerWidth,c.height=innerHeight;draw()};</script></body></html>
